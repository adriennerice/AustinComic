<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="assets/css/reset.css"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Nunito+Sans" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/comicStyle.css">
    <link rel="stylesheet" type="text/css" href="MyFontsWebfontsKit.css"/>

    <title> Comic Convemtion Concierge</title>
</head>
<body data-spy="scroll" data-target="#myScrollspy" data-offset="0">
    <div class="container-fluid">
      <div class="row">
        <nav class="col-lg-3" id="myScrollspy">
          <ul class="nav nav-pills flex-column">
            <li class="nav-item">
                <a class="nav-link" href="#section5"  roll="tab">News</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#section1" roll="tab">Conventions</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#section2" roll="tab">Yelp</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#section3" roll="tab">Sign-Up</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#section4" roll="tab">Trivia</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="aboutus.html">About Us</a>
            </li>
          </ul>
        </nav>
        <div class="col-lg-9">
          <h1 class="header-top">Austin Comic Collective</h1>
          <div id="section5"> 
            <h2>News</h2>
            <h5>Stan Lee Tribute</h5> 
          
          </div>
          <div id="section1">    
            <h2>Conventions</h2>
            <p>
              The COMIC CONVENTION CONCIERGE was founded in 2018 by Team Austin, Group #1 of UNC Charlotte's 
              Boot Camp. Their idea is to grant any comic convention participant a more convenient and wholesome experience.
              The Charlote HeroesCon convention has become famous for its comics-first and family-friendly atmosphere,
              where fans can mingle directly with industry professionals and exhibitors of their art. Boasting an 
              incredible guest list built mainly on reputation and goodwill, HeroesCon is known nationwide as a 
              "must have" on the convention schedule, drawing fans, exhibitors, and creators from every region of 
              the country to the Charlotte Convention Center.

              HeroesCon 2019 will be held on June 14-16, 2019! We are still confirming guests and updating our website!
              New guests are added to the list semi-weekly! Get your tickets for the America's Favortie COMIC Convention
              today!<br/>
              <img src="assets/images/flag_con-basic.gif">
            </p>
            
          </div>
          <div id="section2"> 
            <!-- <h2>Yelp</h2>
            <p>
                Love a juicy burger? Into flavorful and exotic? Every hero needs to fuel up after a good Comi-Con. We have collected the best of the best for every taste bud!
            </p> -->

            <div class="container">
                <h2>Yelp Reviews in the Area <i class="fa fa-yelp" style="font-size:48px;color:red"></i></h2>
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="card left">
                             
            
                            </div>
                        </div>
                        <div class="col-sm-6">
                                <div class="card right">
                                 
                
                                </div>
                            </div>
                     </div>
               
                    <script>
                        var businessIDs = [
                        "wArcCMVnrl_tc9MULW-0CQ",
                        "sH3UsolKjik01u0HlQ9_0Q",
                        "F1odkZWmcXGylij8HjRq6Q",
                        "WCqcYtJ4rUxA4bIzjOfzqg"
                        ]
            
                        var businessNames = [
                            "Heist Brewery",
                            "Three Amigos Mexican Grill & Cantina",
                            "VBGB",
                            "Vapiano"
                        ]
                        var j = 0;
                        
                        for(var i = 0;i <businessIDs.length;i++){
            
                            var myurl = "https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/"+businessIDs[i]+"/reviews"
                   
                            $.ajax({
                               url: myurl,
                               headers: {
                                'Authorization':'Bearer -luV8OwRPCzkvYevJh-qAVjTvRRmgvr1bQ2Ixiw5zFEt5BECSPvXHvwLg8rGoNAz-n5ErCARrMsGop6b-bwgnHcrutfn4cUnJDHqGUzIIoBafkWas21n78VAvw7nW3Yx',
                            },
                               method: 'GET',
                               dataType: 'json',
                              
                            }).then(function(result) {
                              
                               
                               
                                var card = $("<div>").addClass("card-body");
                                var busName = $("<h3>").text(businessNames[j]);
                                    //cool stuff
                              
                                var newList = $("<ul>");
                                var rating = $("<li>").text("Rating: "+ result.reviews[0].rating);
                                var text = $("<li>").text("Review: "+ result.reviews[0].text);
                                var url = $("<li>").html("Url: <a href="+ result.reviews[0].url+ "> Go to Yelp Review</a>");
                            
                                $(newList).append(rating, text, url);
            
                                $(card).append(busName, newList);
            
                               if(j < 2) {
                                   $(".left").append(card)
                               }
                               else{
                                   $(".right").append(card)
                               }
            
                                console.log(result);
                                console.log(businessNames[j-1]);
                                console.log(result.reviews[0].rating);
                                console.log(result.reviews[0].text);
                                console.log(result.reviews[0].url);
            
                                j = j + 1;
                            }
            
                            );  
            
                        }
                         </script>
            </div>
            
            <br>
            
            <!-- MAP -->
            <div id="map"></div>
             
            
                <script>
                    function initMap(){
                        //Map Options
                       var options = {
                           zoom:13,
                           center:{lat:35.2271,lng:-80.8431}
                       } 
                       //New Map
                       var map = new 
                       google.maps.Map(document.getElementById('map'), options);
            
                       //Listen for click on map
            
                       google.maps.event.addListener(map, 'click',
                       function(event){
                           // Add additinal markers
                           addMarker({coords:event.latLng});
                       }
                       )
            
                       /*
                       //Add marker
                       var marker = new google.maps.Marker({
                           position:{lat:35.2284,lng:-80.8349},
                           map:map,
                             //change icon marker type
                           icon:'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png'
                       });
            
                       var infoWindow = new google.maps.InfoWindow({
                           content:'<h1>UNCC Center City</h1>'
                       });
            
                       marker.addListener('click', function(){
                           infoWindow.open(map, marker);
                       });
                       */
            
                       //Array of markers
                       
                       var markers = [
                       {
                           coords:{lat:35.2455,lng:-80.8094},
                            // iconImage: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
                            content:'<h3>Heist Brewery</h3>'
                       },
                       {
                           coords:{lat:35.2185,lng:-80.7948},
                           content:'<h3>Three Amigos Mexican Grill & Catina</h3>'
                           },
                           
                       {
                           coords:{lat:35.2261,lng:-80.8444},
                           content:'<h3>Vapiano</h3>'
                           },
            
                       {
                           coords:{lat:35.2407,lng:-80.8451},
                           content:'<h3>VBGB Beer Hall Garden/Restaurant</h3>'
                           }
            
                       ];
            
                       // Loop through markers
                       for(var i = 0;i <markers.length;i++){
            
                           //Add Marker
                        addMarker(markers[i]);
                       }
            
                       // Add Marker Function
            
                       function addMarker(props){
                        var marker = new google.maps.Marker({
                           position:props.coords,
                           map:map,
                             //change icon marker type
                           //icon:props.iconImage
                       });
            
                       //Check for custom icon
                        if(props.iconImage){
                            //Set icon image
                            marker.setIcon(props.iconImage);
                        }
            
                        if(props.content){
                            var infoWindow = new google.maps.InfoWindow({
                           content:props.content
                       });
            
                       marker.addListener('click', function(){
                           infoWindow.open(map, marker);
                       });
                        }
                       }
                     }
            
            
            
                </script>
                <script async defer
                    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDlJWz1I9XUeUUKfRRfNhA2MZAmH179wrY&callback=initMap">
                    </script>
            </div>
            
          
          </div>        
          <div id="section3">         
            <h2>Sign-up</h2>
            <p>
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#Modal">
                    Sign-up for the Team Austin Comic Newsletter!
                </button>
            </p>
          </div>
          <div id="section4">         
            <h2>Trivia</h2>
            <p>
              Comic-Con 2019 is upon us. That means one of the greatest meeting of geeks the world has 
              even seen will be taking place. Nowadays, comic conventions are about all kinds of entertainment: 
              movies, video games, TV shows and more.
              You've probably seen a Marvel or Batman movie or two. But how well do you know their original source
               material, the comics themselves? Well, we want toput your knowledge to the test with 15 questions meant to see if you 
              know your Batman from your Man-Bat.
              
            </p>
            <p> Try your luck at Comic trivia. 
                <h2><a href="trivia.html">Click for Trivia</a></h2>
            </p>
          </div>      
        </div>
      </div>
    </div>
    
  
  <!-- Modal  -->
  <div class="modal fade" id="Modal" tabindex="-1" role="dialog" data-backdrop="static">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Newsletter Sign-up</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form>
            <div class="form-group">
            <label for="exampleInputEmail1">Name</label>
            <input type="text" class="form-control" id="firstName">
            </div>
            <div class="form-group">
            <label for="exampleInputPassword1">Email Adress</label>
            <input type="email" class="form-control" id="email">
            </div>
            <div class="form-group">
                <label for="exampleInputPassword1">Zip Code</label>
                <input type="text" class="form-control" id="zipCode">
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" id="submit">Submit</button>
          <div class="feedback">Thank you for signing up for our newsletter!</div>
        </form>
        </div>
      </div>
    </div>
  </div> 

  <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

  
    
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="https://www.gstatic.com/firebasejs/5.5.8/firebase.js"></script>
    <script src="assets/javascript/app.js"></script>
    <script src="assets/javascript/logic.js"></script>
</body>
</html>